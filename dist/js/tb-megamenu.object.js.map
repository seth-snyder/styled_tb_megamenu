{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/tb-megamenu.object.js"],"names":["Drupal","TBMegaMenu","$","drupalSettings","currentSelected","megamenu","nav_items","nav_subs","nav_cols","nav_all","modalTimeout","lockedAjax","lockAjax","isLockedAjax","releaseAjax","fn","megamenuAdmin","options","defaultOptions","extend","find","add","each","a","liitem","closest","attr","sub","css","removeClass","hide_toolbox","bindEvents","unbind","click","event","stopPropagation","document","body","action","actions","datas","data","change","bind","keyCode","apply_toolbox","preventDefault","toggleSub","parseInt","length","column","TBElementsCounter","appendTo","addClass","unbindEvents","remove","update_toolbox","toggleAutoArrow","toggle","update_toggle","toggleAlwayShowSubmenu","showBlockTitle","val","value","show","callAjax","block_id","id","showblocktitle","toggleGroup","parent","rebindEvents","hideWhenCollapse","type","toolbox_type","alignment","align","moveItemsLeft","$item","$liparent","level","$col","$items","itemidx","index","$moveitems","slice","itemleft","$rows","children","$cols","filter","colidx","oldSelected","addfirst","addColumn","$tocol","$ul","moveItemsRight","prependTo","show_toolbox","addRow","$row","rowUp","$prevRow","prev","trow","clone","trow1","replaceWith","rowDown","$nextRow","next","colcount","colwidths","defaultColumnsWidth","insertAfter","i","removeColumn","$allcols","$allmenucols","$haspos","type_menu","tocol","nextActiveCol","not","resetConfig","window","setTimeout","html","hide","ajax","url","saveConfigURL","contentType","JSON","stringify","theme","menu_name","complete","r","status","statusMsg","responseText","t","status_modal","saveConfig","menu_config","items","$this","rows","$sub","cols","col_config","col","col_content","sub_level","ele","push","submenu_config","item_config","config","rows_content","block_config","code","clearTimeout","msgClass","$div","hasClass","tagName","show_intro","selected","has","liparent","$input","prop","trigger","input","name","isNaN","width","item","escapedInputText","checkPlain","prepend","append","msg","isJson","resp","parseJSON","err","content","close_button","currentElement","removeAttr","count","total","min","Math","floor","widths","els","mouseover","mouseout","prepare","tb_megamenu","form","ctrlelm","ctrl","rsp","initPanel","initPreSubmit","adminForm","onsubmit","e","isfunction","initRadioGroup","tb_megamenu_instance","label","checked","on","jQuery"],"mappings":"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","file":"js/tb-megamenu.object.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/tb-megamenu.object.js\");\n","/**\n * @file\n * Defines Javascript behaviors for MegaMenu toolbox.\n */\n\nDrupal.TBMegaMenu = Drupal.TBMegaMenu || {};\n\n(function ($, Drupal, drupalSettings) {\n  'use strict';\n\n  var currentSelected = null,\n    megamenu,\n    nav_items,\n    nav_subs,\n    nav_cols,\n    nav_all;\n  var modalTimeout;\n  Drupal.TBMegaMenu.lockedAjax = false;\n\n  Drupal.TBMegaMenu.lockAjax = function () {\n    Drupal.TBMegaMenu.lockedAjax = true;\n  };\n\n  Drupal.TBMegaMenu.isLockedAjax = function () {\n    return Drupal.TBMegaMenu.lockedAjax;\n  };\n\n  Drupal.TBMegaMenu.releaseAjax = function () {\n    Drupal.TBMegaMenu.lockedAjax = false;\n  };\n\n  $.fn.megamenuAdmin = function (options) {\n    var defaultOptions = {};\n    var options = $.extend(defaultOptions, options);\n    megamenu = $(this).find('.tb-megamenu');\n    nav_items = megamenu.find('ul[class*=\"level\"]>li>:first-child');\n    nav_subs = megamenu.find('.nav-child');\n    nav_cols = megamenu.find('[class*=\"span\"]');\n\n    nav_all = nav_items.add(nav_subs).add(nav_cols);\n    nav_items.each(function () {\n      var a = $(this);\n      var liitem = a.closest('li');\n      if (liitem.attr('data-hidesub') == 1) {\n        var sub = liitem.find('.nav-child:first');\n        sub.css('display', 'none');\n        a.removeClass('dropdown-toggle').attr('data-toggle', '');\n        liitem.removeClass('dropdown dropdown-submenu mega');\n      }\n    });\n\n    hide_toolbox(true);\n\n    bindEvents(nav_all);\n    $('.toolbox-action, .toolbox-toggle, .toolbox-input').unbind(\n      'focus blur click change keydown',\n    );\n    $('.tb-megamenu-admin-mm-row').click(function (event) {\n      event.stopPropagation();\n    });\n\n    $(document.body).click(function (event) {\n      hide_toolbox(true);\n    });\n    $('.back-megamenu-toolbox').click(function (event) {\n      hide_toolbox(true);\n    });\n\n    $('.toolbox-action').click(function (event) {\n      var action = $(this).attr('data-action');\n      if (action) {\n        actions.datas = $(this).data();\n        actions[action](options);\n      }\n      event.stopPropagation();\n      return false;\n    });\n\n    $('.toolbox-toggle').change(function (event) {\n      var action = $(this).attr('data-action');\n      if (action) {\n        actions.datas = $(this).data();\n        actions[action](options);\n      }\n      event.stopPropagation();\n      return false;\n    });\n\n    $('.toolbox-input').bind('focus blur click', function (event) {\n      event.stopPropagation();\n      return false;\n    });\n\n    $('.toolbox-input').bind('keydown', function (event) {\n      if (event.keyCode == '13') {\n        apply_toolbox(this);\n        event.preventDefault();\n      }\n    });\n\n    $('.toolbox-input').change(function (event) {\n      apply_toolbox(this);\n      event.stopPropagation();\n      return false;\n    });\n    return this;\n  };\n\n  var actions = {};\n  actions.data = {};\n  actions.toggleSub = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var liitem = currentSelected.closest('li'),\n      sub = liitem.find('.nav-child:first');\n    if (parseInt(liitem.attr('data-group'))) {\n      return;\n    }\n    if (sub.length == 0 || sub.css('display') == 'none') {\n      if (sub.length == 0) {\n        var column = ++drupalSettings.TBMegaMenu.TBElementsCounter.column;\n        sub = $(\n          '<div class=\"tb-megamenu-submenu nav-child\"><div class=\"row-fluid\"><div id=tb-megamenu-column-' +\n            column +\n            ' class=\"span12\" data-width=\"12\"><div class=\"mega-inner\"></div></div></div></div>',\n        ).appendTo(liitem);\n        bindEvents(sub.find('[class*=\"span\"]'));\n      } else {\n        sub.css('display', '');\n        liitem.attr('data-hidesub', 0);\n      }\n      liitem.attr('data-group', 0);\n      currentSelected\n        .addClass('dropdown-toggle')\n        .attr('data-toggle', 'dropdown');\n      liitem.addClass(\n        liitem.attr('data-level') == 1 ? 'dropdown' : 'dropdown-submenu',\n      );\n      bindEvents(sub);\n    } else {\n      unbindEvents(sub);\n      if (liitem.find('ul.level-' + liitem.attr('data-level')).length > 0) {\n        sub.css('display', 'none');\n        liitem.attr('data-hidesub', 1);\n      } else {\n        sub.remove();\n      }\n      liitem.attr('data-group', 0);\n      currentSelected.removeClass('dropdown-toggle').attr('data-toggle', '');\n      liitem.removeClass('dropdown dropdown-submenu mega');\n    }\n    update_toolbox();\n  };\n\n  actions.toggleAutoArrow = function () {\n    var toggle = $('.toolitem-auto-arrow');\n    toggle\n      .find('label')\n      .removeClass('active btn-success btn-danger btn-primary');\n    if (parseInt(toggle.attr('data-auto-arrow'))) {\n      update_toggle(toggle, 0);\n      toggle.attr('data-auto-arrow', 0);\n    } else {\n      update_toggle(toggle, 1);\n      toggle.attr('data-auto-arrow', 1);\n    }\n  };\n\n  actions.toggleAlwayShowSubmenu = function () {\n    var toggle = $('.toolitem-always-show-submenu');\n    toggle\n      .find('label')\n      .removeClass('active btn-success btn-danger btn-primary');\n    if (parseInt(toggle.attr('data-always-show-submenu'))) {\n      update_toggle(toggle, 0);\n      toggle.attr('data-always-show-submenu', 0);\n    } else {\n      update_toggle(toggle, 1);\n      toggle.attr('data-always-show-submenu', 1);\n    }\n  };\n\n  actions.showBlockTitle = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var toggle = $('.toolcol-showblocktitle');\n    toggle\n      .find('label')\n      .removeClass('active btn-success btn-danger btn-primary');\n    if (parseInt(currentSelected.attr('data-showblocktitle'))) {\n      update_toggle(toggle, 0);\n      currentSelected.attr('data-showblocktitle', 0);\n    } else {\n      update_toggle(toggle, 1);\n      currentSelected.attr('data-showblocktitle', 1);\n    }\n    if (\n      $('#tb-megamenu-block-wrapper select[name=\"toolcol-block\"]').val() != ''\n    ) {\n      var value = $(\n        '#tb-megamenu-block-wrapper select[name=\"toolcol-block\"]',\n      ).val();\n      $('#tb-megamenu-admin-mm-tb #toolbox-loading').show();\n      callAjax({\n        action: 'load_block',\n        block_id: value,\n        id: currentSelected.attr('id'),\n        showblocktitle: parseInt(currentSelected.attr('data-showblocktitle')),\n      });\n    }\n  };\n\n  actions.toggleGroup = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var liitem = currentSelected.parent();\n    var sub = liitem.find('.nav-child:first');\n    if (liitem.attr('data-level') == 1) {\n      return;\n    } // Ignore for top level.\n    if (parseInt(liitem.attr('data-group'))) {\n      liitem.attr('data-group', 0);\n      liitem.removeClass('mega-group').addClass('dropdown-submenu');\n      currentSelected\n        .addClass('dropdown-toggle')\n        .attr('data-toggle', 'dropdown');\n      sub.removeClass('mega-group-ct').addClass('tb-megamenu-submenu');\n      sub.css('width', sub.attr('data-width'));\n      rebindEvents(sub);\n    } else {\n      currentSelected.removeClass('dropdown-toggle').attr('data-toggle', '');\n      liitem.attr('data-group', 1);\n      liitem.removeClass('dropdown-submenu').addClass('mega-group');\n      sub.removeClass('tb-megamenu-submenu').addClass('mega-group-ct');\n      sub.css('width', '');\n      rebindEvents(sub);\n    }\n    update_toolbox();\n  };\n\n  actions.hideWhenCollapse = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var type = toolbox_type();\n    if (type == 'sub') {\n      var liitem = currentSelected.closest('li');\n      if (parseInt(liitem.attr('data-hidewcol'))) {\n        liitem.attr('data-hidewcol', 0);\n        liitem.removeClass('sub-hidden-collapse');\n      } else {\n        liitem.attr('data-hidewcol', 1);\n        liitem.addClass('sub-hidden-collapse');\n      }\n    } else if (type == 'col') {\n      if (parseInt(currentSelected.attr('data-hidewcol'))) {\n        currentSelected.attr('data-hidewcol', 0);\n        currentSelected.removeClass('hidden-collapse');\n      } else {\n        currentSelected.attr('data-hidewcol', 1);\n        currentSelected.addClass('hidden-collapse');\n      }\n    }\n    update_toolbox();\n  };\n\n  actions.alignment = function () {\n    var liitem = currentSelected.closest('li');\n    liitem\n      .removeClass(\n        'mega-align-left mega-align-center mega-align-right mega-align-justify',\n      )\n      .addClass('mega-align-' + actions.datas.align);\n    if (actions.datas.align == 'justify') {\n      currentSelected.addClass('span12');\n      currentSelected.css('width', '');\n    } else {\n      currentSelected.removeClass('span12');\n      if (currentSelected.attr('data-width')) {\n        currentSelected.css('width', currentSelected.attr('data-width'));\n      }\n    }\n    liitem.attr('data-alignsub', actions.datas.align);\n    update_toolbox();\n  };\n\n  actions.moveItemsLeft = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var $item = currentSelected.closest('li'),\n      $liparent = $item.parent().closest('li'),\n      level = $liparent.attr('data-level'),\n      $col = $item.closest('[class*=\"span\"]'),\n      $items = $col.find('ul:first > li'),\n      itemidx = $items.index($item),\n      $moveitems = $items.slice(0, itemidx + 1),\n      itemleft = $items.length - $moveitems.length,\n      $rows = $col.parent().parent().children('[class*=\"row\"]'),\n      $cols = $rows.children('[class*=\"span\"]').filter(function () {\n        return !$(this).attr('data-block');\n      }),\n      colidx = $cols.index($col);\n    if (!$liparent.length) {\n      return;\n    } // Need make this is mega first.\n\n    if (colidx == 0) {\n      var oldSelected = currentSelected;\n      currentSelected = $col;\n      actions.datas.addfirst = true;\n      actions.addColumn();\n      $cols = $rows.children('[class*=\"span\"]').filter(function () {\n        return !$(this).attr('data-block');\n      });\n      currentSelected = oldSelected;\n      colidx++;\n    }\n    var $tocol = $($cols[colidx - 1]);\n    var $ul = $tocol.find('ul:first');\n    if (!$ul.length) {\n      $ul = $('<ul class=\"level' + level + ' tb-megamenu-subnav\">').appendTo(\n        $tocol.children('.mega-inner'),\n      );\n    }\n    $moveitems.appendTo($ul);\n    if (itemleft == 0) {\n      $col.find('ul:first').remove();\n    }\n    update_toolbox();\n  };\n\n  actions.moveItemsRight = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var $item = currentSelected.closest('li'),\n      $liparent = $item.parent().closest('li'),\n      level = $liparent.attr('data-level'),\n      $col = $item.closest('[class*=\"span\"]'),\n      $items = $col.find('ul:first > li'),\n      itemidx = $items.index($item),\n      $moveitems = $items.slice(itemidx),\n      itemleft = $items.length - $moveitems.length,\n      $rows = $col.parent().parent().children('[class*=\"row\"]'),\n      $cols = $rows.children('[class*=\"span\"]').filter(function () {\n        return (\n          $(this).children('.mega-inner').children('.tb-megamenu-block')\n            .length == 0\n        );\n      });\n\n    var colidx = $cols.index($col);\n    if (!$liparent.length) {\n      return;\n    } // Need make this is mega first.\n\n    if (colidx == $cols.length - 1) {\n      var oldSelected = currentSelected;\n      currentSelected = $col;\n      actions.datas.addfirst = false;\n      actions.addColumn();\n      ($cols = $rows.children('[class*=\"span\"]').filter(function () {\n        return (\n          $(this).children('.mega-inner').children('.tb-megamenu-block')\n            .length == 0\n        );\n      })),\n        (currentSelected = oldSelected);\n    }\n    var $tocol = $($cols[colidx + 1]);\n    var $ul = $tocol.find('.mega-inner ul.tb-megamenu-subnav:first');\n    if (!$ul.length) {\n      $ul = $('<ul class=\"level' + level + ' tb-megamenu-subnav\">').appendTo(\n        $tocol.children('.mega-inner'),\n      );\n    }\n    $moveitems.prependTo($ul);\n    if (itemleft == 0) {\n      $col.find('ul:first').remove();\n    }\n    show_toolbox(currentSelected);\n  };\n\n  actions.addRow = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var column = ++drupalSettings.TBMegaMenu.TBElementsCounter.column;\n    var $row = $(\n        '<div class=\"row-fluid\"><div id=tb-megamenu-column-' +\n          column +\n          ' class=\"span12\"><div class=\"mega-inner\"></div></div></div>',\n      ).appendTo(currentSelected.find('[class*=\"row\"]:first').parent()),\n      $col = $row.children();\n    bindEvents($col);\n    currentSelected = null;\n    show_toolbox($col);\n  };\n\n  actions.rowUp = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var $row = $(currentSelected.closest('.row-fluid'));\n    var $rows = $row.parent();\n    var $prevRow = $row.prev();\n    if ($prevRow.length == 0) {\n      return;\n    }\n    var trow = $row.clone();\n    var trow1 = $prevRow.clone();\n    $row.replaceWith(trow1);\n    $prevRow.replaceWith(trow);\n    // Reset all events on new structure.\n    megamenu = $('#tb-megamenu-admin-mm-container').find('.tb-megamenu');\n    nav_items = megamenu.find('ul[class*=\"level\"]>li>:first-child');\n    nav_subs = megamenu.find('.nav-child');\n    nav_cols = megamenu.find('[class*=\"span\"]');\n    nav_all = nav_items.add(nav_subs).add(nav_cols);\n    bindEvents(nav_all);\n    currentSelected = $rows.find('.selected');\n  };\n\n  actions.rowDown = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var $row = $(currentSelected.closest('.tb-megamenu-row'));\n    var $rows = $row.parent();\n    var $nextRow = $row.next();\n    if ($nextRow.length == 0) {\n      return;\n    }\n    var trow = $row.clone();\n    var trow1 = $nextRow.clone();\n    $row.replaceWith(trow1);\n    $nextRow.replaceWith(trow);\n\n    // Reset all events on new structure.\n    megamenu = $('#tb-megamenu-admin-mm-container').find('.tb-megamenu');\n    nav_items = megamenu.find('ul[class*=\"level\"]>li>:first-child');\n    nav_subs = megamenu.find('.nav-child');\n    nav_cols = megamenu.find('[class*=\"span\"]');\n    nav_all = nav_items.add(nav_subs).add(nav_cols);\n    bindEvents(nav_all);\n\n    currentSelected = $rows.find('.selected');\n  };\n\n  actions.addColumn = function () {\n    if (!currentSelected) {\n      return;\n    }\n    var $cols = currentSelected.parent().children('[class*=\"span\"]');\n    var colcount = $cols.length + 1;\n    var colwidths = defaultColumnsWidth(colcount);\n    var column = ++drupalSettings.TBMegaMenu.TBElementsCounter.column;\n    var $col = $(\n      '<div id=tb-megamenu-column-' +\n        column +\n        '><div class=\"mega-inner\"></div></div>',\n    );\n    if (actions.datas.addfirst) {\n      $col.prependTo(currentSelected.parent());\n    } else {\n      $col.insertAfter(currentSelected);\n    }\n    $cols = $cols.add($col);\n    bindEvents($col);\n    $cols.each(function (i) {\n      $(this)\n        .removeClass('span' + $(this).attr('data-width'))\n        .addClass('span' + colwidths[i])\n        .attr('data-width', colwidths[i]);\n    });\n    show_toolbox($col);\n  };\n\n  actions.removeColumn = function () {\n    if (!currentSelected) {\n      return;\n    }\n\n    var $col = currentSelected,\n      $row = $col.parent(),\n      $rows = $row.parent().children('[class*=\"row\"]'),\n      $allcols = $rows.children('[class*=\"span\"]'),\n      $allmenucols = $allcols.filter(function () {\n        return !$(this).attr('data-block');\n      }),\n      $haspos = $allcols.filter(function () {\n        return $(this).attr('data-block');\n      }).length,\n      $cols = $row.children('[class*=\"span\"]'),\n      colcount = $cols.length - 1,\n      colwidths = defaultColumnsWidth(colcount),\n      type_menu = $col.attr('data-block') ? false : true;\n\n    if (\n      (type_menu &&\n        ((!$haspos && $allmenucols.length == 1) ||\n          ($haspos && $allmenucols.length == 0))) ||\n      $allcols.length == 1\n    ) {\n      show_toolbox($(currentSelected).closest('.tb-megamenu-item'));\n      currentSelected = $(currentSelected).closest('.tb-megamenu-item');\n      currentSelected.find('.tb-megamenu-submenu').remove();\n    }\n    // If this is the only one column left.\n    else {\n      if (type_menu) {\n        var colidx = $allmenucols.index($col),\n          tocol = colidx == 0 ? $allmenucols[1] : $allmenucols[colidx - 1];\n\n        $col.find('ul:first > li').appendTo($(tocol).find('ul:first'));\n      }\n\n      var colidx = $allcols.index($col),\n        nextActiveCol = colidx == 0 ? $allcols[1] : $allcols[colidx - 1];\n\n      if (colcount < 1) {\n        $row.remove();\n      } else {\n        $cols = $cols.not($col);\n        $cols.each(function (i) {\n          $(this)\n            .removeClass('span' + $(this).attr('data-width'))\n            .addClass('span' + colwidths[i])\n            .attr('data-width', colwidths[i]);\n        });\n        $col.remove();\n      }\n      show_toolbox($(nextActiveCol));\n    }\n  };\n\n  actions.resetConfig = function (options) {\n    if (Drupal.TBMegaMenu.isLockedAjax()) {\n      window.setTimeout(function () {\n        actions.resetConfig(options);\n      }, 200);\n      return;\n    }\n    Drupal.TBMegaMenu.lockAjax();\n    $('#tb-megamenu-admin-mm-tb #toolbox-message').html('').hide();\n    $('#tb-megamenu-admin-mm-tb #toolbox-loading').show();\n    $.ajax({\n      type: 'POST',\n      url: drupalSettings.TBMegaMenu.saveConfigURL,\n      contentType: 'application/json; charset=utf-8',\n      data: JSON.stringify({\n        action: 'load',\n        theme: drupalSettings.TBMegaMenu.theme,\n        menu_name: options['menu_name'],\n      }),\n      complete: function (r) {\n        switch (r.status) {\n          // If an error occurred only set a status message.\n          case 500:\n            var statusMsg = r.responseText;\n            break;\n          // When successful revert the configuration displayed in the UI.\n          default:\n            $('#tb-megamenu-admin-mm-container')\n              .html(r.responseText)\n              .megamenuAdmin({ menu_name: options['menu_name'] });\n            // Collapse all expanded menu items.\n            $('#tb-megamenu-admin-mm-container')\n              .find('.mega-inner')\n              .children('span.close')\n              .click(function () {\n                $(this).parent().html('');\n              });\n            // Set a confirmation message.\n            var statusMsg = Drupal.t('All unsaved changes have been reverted.');\n        }\n        // Display the status message modal.\n        status_modal(r.status, statusMsg);\n\n        Drupal.TBMegaMenu.releaseAjax();\n      },\n    });\n  };\n\n  actions.saveConfig = function (options) {\n    if (Drupal.TBMegaMenu.isLockedAjax()) {\n      window.setTimeout(function () {\n        actions.saveConfig(options);\n      }, 200);\n      return;\n    }\n    Drupal.TBMegaMenu.lockAjax();\n    var menu_config = {},\n      items = megamenu.find('ul[class*=\"level\"] > li');\n    items.each(function () {\n      var $this = $(this),\n        id = $this.attr('data-id'),\n        rows = [];\n      var level = parseInt($this.attr('data-level'));\n      var $sub = $this.find('.nav-child:first');\n      var $rows = $sub\n        .find('[class*=\"row\"]:first')\n        .parent()\n        .children('[class*=\"row\"]');\n      $rows.each(function () {\n        var $cols = $(this).children('[class*=\"span\"]');\n        var cols = [];\n        $cols.each(function () {\n          var col_config = {};\n          col_config['width'] = $(this).attr('data-width')\n            ? $(this).attr('data-width')\n            : '';\n          col_config['class'] = $(this).attr('data-class')\n            ? $(this).attr('data-class')\n            : '';\n          col_config['hidewcol'] = $(this).attr('data-hidewcol')\n            ? $(this).attr('data-hidewcol')\n            : '';\n          col_config['showblocktitle'] = $(this).attr('data-showblocktitle')\n            ? $(this).attr('data-showblocktitle')\n            : '1';\n          var col = { col_content: [], col_config: col_config };\n          $(this)\n            .find('ul[class*=\"level\"] > li')\n            .each(function () {\n              var sub_level = parseInt($(this).attr('data-level'));\n              if (sub_level == level + 1) {\n                var ele = {};\n                ele['plugin_id'] = $(this).attr('data-id');\n                ele['type'] = $(this).attr('data-type');\n                ele['tb_item_config'] = {};\n                col['col_content'].push(ele);\n              }\n            });\n          $(this)\n            .children('.mega-inner')\n            .children('.tb-megamenu-block')\n            .each(function () {\n              var ele = {};\n              ele['block_id'] = $(this).attr('data-block');\n              ele['type'] = $(this).attr('data-type');\n              ele['tb_item_config'] = {};\n              col['col_content'].push(ele);\n            });\n          if (col['col_content'].length) {\n            cols.push(col);\n          }\n        });\n        if (cols.length) {\n          rows.push(cols);\n        }\n      });\n      var submenu_config = {};\n      submenu_config['width'] = $this\n        .children('.tb-megamenu-submenu')\n        .attr('data-width')\n        ? $this.children('.tb-megamenu-submenu').attr('data-width')\n        : '';\n      submenu_config['class'] = $this\n        .children('.tb-megamenu-submenu')\n        .attr('data-class')\n        ? $this.children('.tb-megamenu-submenu').attr('data-class')\n        : '';\n      submenu_config['group'] = $this.attr('data-group')\n        ? $this.attr('data-group')\n        : 0;\n      var item_config = {};\n      item_config['class'] = $this.attr('data-class')\n        ? $this.attr('data-class')\n        : '';\n      item_config['xicon'] = $this.attr('data-xicon')\n        ? $this.attr('data-xicon')\n        : '';\n      item_config['caption'] = $this.attr('data-caption')\n        ? $this.attr('data-caption')\n        : '';\n      item_config['alignsub'] = $this.attr('data-alignsub')\n        ? $this.attr('data-alignsub')\n        : '';\n      item_config['group'] = $this.attr('data-group')\n        ? $this.attr('data-group')\n        : '';\n      item_config['hidewcol'] = $this.attr('data-hidewcol')\n        ? $this.attr('data-hidewcol')\n        : 1;\n      item_config['hidesub'] = $this.attr('data-hidesub')\n        ? $this.attr('data-hidesub')\n        : 1;\n      item_config['label'] = $this.attr('data-label')\n        ? $this.attr('data-label')\n        : '';\n      var config = {\n        rows_content: rows,\n        submenu_config: submenu_config,\n        item_config: item_config,\n      };\n      menu_config[id] = config;\n    });\n    var block_config = {};\n    block_config['animation'] = $('select[name=\"tb-megamenu-animation\"]').val();\n    block_config['duration'] = parseInt(\n      $('input[name=\"tb-megamenu-duration\"]').val(),\n    );\n    block_config['delay'] = parseInt(\n      $('input[name=\"tb-megamenu-delay\"]').val(),\n    );\n    block_config['style'] = $('select[name=\"tb-megamenu-style\"]').val();\n    block_config['auto-arrow'] = $(\n      '#tb-megamenu-admin-mm-intro .toolitem-auto-arrow',\n    ).attr('data-auto-arrow');\n    block_config['always-show-submenu'] = $(\n      '#tb-megamenu-admin-mm-intro .toolitem-always-show-submenu',\n    ).attr('data-always-show-submenu');\n    block_config['number-columns'] =\n      drupalSettings.TBMegaMenu.TBElementsCounter.column;\n    $('#tb-megamenu-admin-mm-tb #toolbox-message').html('').hide();\n    $('#tb-megamenu-admin-mm-tb #toolbox-loading').show();\n    $.ajax({\n      type: 'POST',\n      url: drupalSettings.TBMegaMenu.saveConfigURL,\n      contentType: 'application/json; charset=utf-8',\n      data: JSON.stringify({\n        action: 'save',\n        theme: drupalSettings.TBMegaMenu.theme,\n        menu_name: options['menu_name'],\n        menu_config: menu_config,\n        block_config: block_config,\n      }),\n      complete: function (r) {\n        // Set the status message based on the response.\n        var statusMsg = r.responseText;\n        // Show the status message modal.\n        status_modal(r.status, statusMsg);\n\n        Drupal.TBMegaMenu.releaseAjax();\n      },\n    });\n  };\n\n  var status_modal = function (code, statusMsg) {\n    // Clear any previously set timeouts and hide any visible modals.\n    clearTimeout(modalTimeout);\n    $('#tb-megamenu-admin-mm-tb #toolbox-message').html('').hide();\n    // Set the message container class based on the status code.\n    switch (code) {\n      case 500:\n        var msgClass = 'messages--error';\n        break;\n      default:\n        var msgClass = 'messages--status';\n    }\n    // Hide the loading animation.\n    $('#tb-megamenu-admin-mm-tb #toolbox-loading').hide();\n    // Build the modal status message container.\n    var $div = $(\n      '<div class=\"messages ' +\n        msgClass +\n        '\" role=\"contentinfo\" aria-label=\"Status message\"><h2 class=\"visually-hidden\">Status message</h2><span class=\"close fa fa-times-circle\" title=\"Dismiss this message\">&nbsp;</span>' +\n        statusMsg +\n        '</div>',\n    );\n    // Show the modal and bind a click event to its close (X) button.\n    $('#tb-megamenu-admin-mm-tb #toolbox-message').html($div).show();\n    $('#tb-megamenu-admin-mm-tb #toolbox-message span.close').click(\n      function () {\n        $(this).parent().html('').hide();\n      },\n    );\n    // Auto-dismiss all success messages after a delay.\n    if (code == 200) {\n      modalTimeout = window.setTimeout(function () {\n        $('#tb-megamenu-admin-mm-tb #toolbox-message').html('').hide();\n      }, 7000);\n    }\n  };\n\n  var toolbox_type = function () {\n    return currentSelected\n      ? currentSelected.hasClass('nav-child')\n        ? 'sub'\n        : currentSelected[0].tagName == 'DIV'\n        ? 'col'\n        : 'item'\n      : false;\n  };\n\n  var hide_toolbox = function (show_intro) {\n    $('#tb-megamenu-admin-mm-tb .admin-toolbox').hide();\n    currentSelected = null;\n    if (megamenu && megamenu.data('nav_all')) {\n      megamenu.data('nav_all').removeClass('selected');\n    }\n    megamenu.find('li').removeClass('open');\n    if (show_intro) {\n      $('#tb-megamenu-admin-mm-intro').show();\n    } else {\n      $('#tb-megamenu-admin-mm-intro').hide();\n    }\n  };\n\n  var show_toolbox = function (selected) {\n    if (\n      !selected.hasClass('tb-megamenu-column') &&\n      !selected.hasClass('tb-megamenu-submenu')\n    ) {\n      var level = parseInt($(selected).parent().attr('data-level'));\n      if (level > 1) {\n        $('#toogle-group-wrapper').show();\n        $('#toogle-break-column-wrapper').show();\n      } else {\n        $('#toogle-group-wrapper').hide();\n        $('#toogle-break-column-wrapper').hide();\n      }\n    }\n    hide_toolbox(false);\n    if (selected) {\n      currentSelected = selected;\n    }\n    // Remove class open for other.\n    megamenu.find('ul[class*=\"level\"] > li').each(function () {\n      if (!$(this).has(currentSelected).length > 0) {\n        $(this).removeClass('open');\n      } else {\n        $(this).addClass('open');\n      }\n    });\n\n    // Set selected.\n    megamenu.data('nav_all').removeClass('selected');\n    currentSelected.addClass('selected');\n    var type = toolbox_type();\n    $('#tb-megamenu-admin-mm-tool' + type).show();\n    update_toolbox(type);\n\n    $('#tb-megamenu-admin-mm-tb').show();\n  };\n\n  var update_toolbox = function (type) {\n    if (!type) {\n      type = toolbox_type();\n    }\n    $('#tb-megamenu-admin-mm-tb .disabled').removeClass('disabled');\n    $('#tb-megamenu-admin-mm-tb .active').removeClass('active');\n    switch (type) {\n      case 'item':\n        var liitem = currentSelected.closest('li'),\n          liparent = liitem.parent().closest('li'),\n          sub = liitem.find('.nav-child:first');\n\n        $('.toolitem-exclass').val(liitem.attr('data-class'));\n        $('.toolitem-xicon').val(liitem.attr('data-xicon'));\n        $('.toolitem-caption').val(liitem.attr('data-caption'));\n\n        var toggle = $('.toolitem-sub');\n        toggle\n          .find('label')\n          .removeClass('active btn-success btn-danger btn-primary');\n        if (parseInt(liitem.attr('data-group'))) {\n          toggle.addClass('disabled');\n        } else if (sub.length == 0 || sub.css('display') == 'none') {\n          update_toggle(toggle, 0);\n        } else {\n          update_toggle(toggle, 1);\n        }\n\n        var toggle = $('.toolitem-group');\n        toggle\n          .find('label')\n          .removeClass('active btn-success btn-danger btn-primary');\n        if (\n          parseInt(liitem.attr('data-level')) == 1 ||\n          sub.length == 0 ||\n          parseInt(liitem.attr('data-hidesub')) == 1\n        ) {\n          $('.toolitem-group').addClass('disabled');\n        } else if (parseInt(liitem.attr('data-group'))) {\n          update_toggle(toggle, 1);\n        } else {\n          update_toggle(toggle, 0);\n        }\n\n        if (!liparent.length || !liparent.hasClass('tb-megamenu-item')) {\n          $('.toolitem-moveleft, .toolitem-moveright').addClass('disabled');\n        }\n        break;\n\n      case 'sub':\n        var liitem = currentSelected.closest('li');\n        $('.toolsub-exclass').attr(\n          'value',\n          currentSelected.attr('data-class') || '',\n        );\n\n        if (parseInt(liitem.attr('data-group'))) {\n          $('.toolsub-width').attr('value', '').addClass('disabled');\n          $('.toolitem-alignment').addClass('disabled');\n        } else {\n          $('.toolsub-width').val(currentSelected.attr('data-width'));\n          if (parseInt(liitem.attr('data-level')) > 1) {\n            $('.toolsub-align-center').addClass('disabled');\n            $('.toolsub-align-justify').addClass('disabled');\n          }\n\n          if (liitem.attr('data-alignsub')) {\n            $('.toolsub-align-' + liitem.attr('data-alignsub')).addClass(\n              'active',\n            );\n            if (liitem.attr('data-alignsub') == 'justify') {\n              $('.toolsub-width').addClass('disabled');\n            }\n          }\n        }\n\n        var toggle = $('.toolsub-hidewhencollapse');\n        toggle\n          .find('label')\n          .removeClass('active btn-success btn-danger btn-primary');\n        if (parseInt(liitem.attr('data-hidewcol'))) {\n          update_toggle(toggle, 1);\n        } else {\n          update_toggle(toggle, 0);\n        }\n        break;\n\n      case 'col':\n        $('.toolcol-block').val(\n          currentSelected\n            .children('.mega-inner')\n            .children('.tb-megamenu-block')\n            .attr('data-block') || '',\n        );\n        $('.toolcol-width').val(currentSelected.attr('data-width') || '');\n        $('.toolcol-exclass').attr(\n          'value',\n          currentSelected.attr('data-class') || '',\n        );\n        if (currentSelected.find('.tb-megamenu-subnav').length > 0) {\n          $('.toolcol-block').parent().addClass('disabled');\n        }\n        if (currentSelected.parent().children().length == 1) {\n          $('.toolcol-width').parent().addClass('disabled');\n        }\n\n        var toggle = $('.toolcol-hidewhencollapse');\n        toggle\n          .find('label')\n          .removeClass('active btn-success btn-danger btn-primary');\n        if (parseInt(currentSelected.attr('data-hidewcol'))) {\n          update_toggle(toggle, 1);\n        } else {\n          update_toggle(toggle, 0);\n        }\n        var toggle = $('.toolcol-showblocktitle');\n        toggle\n          .find('label')\n          .removeClass('active btn-success btn-danger btn-primary');\n        if (\n          !currentSelected.attr('data-showblocktitle') ||\n          parseInt(currentSelected.attr('data-showblocktitle'))\n        ) {\n          update_toggle(toggle, 1);\n        } else {\n          update_toggle(toggle, 0);\n        }\n        break;\n    }\n  };\n\n  var update_toggle = function (toggle, val) {\n    var $input = toggle.find('input[value=\"' + val + '\"]');\n    /**\n     * We use this function to set the check attribute.\n     * For jquery 1.9 or higher, instead of $input.attr('checked', 'checked');\n     */\n    $input.prop('checked', true);\n    $input.trigger('update');\n  };\n\n  var apply_toolbox = function (input) {\n    var name = $(input).attr('data-name'),\n      value = input.value,\n      type = toolbox_type();\n    switch (name) {\n      case 'width':\n        value = parseInt(value);\n        if (isNaN(value)) {\n          value = '';\n          if (type == 'sub') {\n            currentSelected.width(value);\n          }\n          if (type == 'col') {\n            currentSelected.removeClass(\n              'span' + currentSelected.attr('data-' + name),\n            );\n          }\n          currentSelected.attr('data-' + name, value);\n        } else {\n          if (type == 'sub') {\n            currentSelected.width(value);\n          }\n          if (type == 'col') {\n            currentSelected\n              .removeClass('span' + currentSelected.attr('data-' + name))\n              .addClass('span' + value);\n          }\n          currentSelected.attr('data-' + name, value);\n        }\n        $(input).val(value);\n        break;\n\n      case 'duration':\n        value = parseInt(value);\n        if (isNaN(value)) {\n          value = '';\n        }\n        $(input).val(value);\n        break;\n\n      case 'delay':\n        value = parseInt(value);\n        if (isNaN(value)) {\n          value = '';\n        }\n        $(input).val(value);\n        break;\n\n      case 'class':\n        if (type == 'item') {\n          var item = currentSelected.closest('li');\n        } else {\n          var item = currentSelected;\n        }\n        item.removeClass(item.attr('data-' + name) || '').addClass(value);\n        item.attr('data-' + name, value);\n        break;\n\n      case 'xicon':\n        if (type == 'item') {\n          currentSelected.closest('li').attr('data-' + name, value);\n          currentSelected.find('i').remove();\n          var escapedInputText = Drupal.checkPlain(value);\n          if (value) {\n            currentSelected.prepend(\n              $('<i class=\"' + escapedInputText + '\"></i>'),\n            );\n          }\n        }\n        break;\n\n      case 'caption':\n        if (type == 'item') {\n          currentSelected.closest('li').attr('data-' + name, value);\n          currentSelected.find('span.mega-caption').remove();\n          var escapedInputText = Drupal.checkPlain(value);\n          if (value) {\n            currentSelected.append(\n              $('<span class=\"mega-caption\">' + escapedInputText + '</span>'),\n            );\n          }\n        }\n        break;\n\n      case 'block':\n        if (currentSelected.find('ul[class*=\"level\"]').length == 0) {\n          if (value) {\n            $('#tb-megamenu-admin-mm-tb #toolbox-loading').show();\n            callAjax({\n              action: 'load_block',\n              block_id: value,\n              id: currentSelected.attr('id'),\n              showblocktitle: parseInt(\n                currentSelected.attr('data-showblocktitle'),\n              ),\n            });\n          } else {\n            currentSelected.find('.mega-inner').html('');\n          }\n          currentSelected.attr('data-' + name, value);\n        }\n        break;\n    }\n  };\n  var callAjax = function (data) {\n    if (Drupal.TBMegaMenu.isLockedAjax()) {\n      window.setTimeout(function () {\n        callAjax(data);\n      }, 200);\n      return;\n    }\n    Drupal.TBMegaMenu.lockAjax();\n    switch (data.action) {\n      case 'load_block':\n        $.ajax({\n          type: 'POST',\n          url: drupalSettings.TBMegaMenu.saveConfigURL,\n          contentType: 'application/json; charset=utf-8',\n          data: JSON.stringify(data),\n          complete: function (msg) {\n            // Check if a valid block was loaded & a JSON object was returned.\n            var isJson = true;\n            try {\n              var resp = $.parseJSON(msg.responseText);\n            } catch (err) {\n              isJson = false;\n            }\n            // If we received a block, display it in the UI.\n            if (isJson) {\n              var content = resp.content ? resp.content : '';\n              var id = resp.id ? resp.id : '';\n              // Add a close (remove) button and bind a click event to it.\n              var close_button = $(\n                '<span class=\"close fa fa-times-circle\" title=\"' +\n                  Drupal.t('Remove this block') +\n                  '\">&nbsp;</span>',\n              );\n              var currentElement = $('#' + id);\n              if (currentElement.length) {\n                currentElement\n                  .children('.mega-inner')\n                  .html('')\n                  .append(close_button)\n                  .append($(content))\n                  .find(':input')\n                  .removeAttr('name');\n                currentElement\n                  .children('.mega-inner')\n                  .children('span.close')\n                  .click(function () {\n                    $(this).parent().html('');\n                  });\n              }\n              // Hide the loading animation.\n              $('#tb-megamenu-admin-mm-tb #toolbox-loading').hide();\n            }\n            // If no JSON was received display an error in the modal.\n            else {\n              var statusMsg = msg.responseText;\n              status_modal(msg.status, statusMsg);\n            }\n\n            Drupal.TBMegaMenu.releaseAjax();\n          },\n        });\n        break;\n\n      case 'load':\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var defaultColumnsWidth = function (count) {\n    if (count < 1) {\n      return null;\n    }\n    var total = 12,\n      min = Math.floor(total / count),\n      widths = [];\n    for (var i = 0; i < count; i++) {\n      widths[i] = min;\n    }\n    widths[count - 1] = total - min * (count - 1);\n    return widths;\n  };\n\n  var bindEvents = function (els) {\n    if (megamenu.data('nav_all')) {\n      megamenu.data('nav_all', megamenu.data('nav_all').add(els));\n    } else {\n      megamenu.data('nav_all', els);\n    }\n\n    els.mouseover(function (event) {\n      megamenu.data('nav_all').removeClass('hover');\n      var $this = $(this);\n      clearTimeout(megamenu.attr('data-hovertimeout'));\n      megamenu.attr(\n        'data-hovertimeout',\n        setTimeout(function () {\n          $this.addClass('hover');\n        }, 100),\n      );\n      event.stopPropagation();\n    });\n    els.mouseout(function (event) {\n      clearTimeout(megamenu.attr('data-hovertimeout'));\n      $(this).removeClass('hover');\n    });\n    els.click(function (event) {\n      show_toolbox($(this));\n      event.stopPropagation();\n      return false;\n    });\n  };\n\n  var unbindEvents = function (els) {\n    megamenu.data('nav_all', megamenu.data('nav_all').not(els));\n    els.unbind('mouseover').unbind('mouseout').unbind('click');\n  };\n\n  var rebindEvents = function (els) {\n    unbindEvents(els);\n    bindEvents(els);\n  };\n\n  $.extend(Drupal.TBMegaMenu, {\n    prepare: function () {\n      $('#tb-megamenu-admin').removeClass('hidden');\n    },\n    tb_megamenu: function (form, ctrlelm, ctrl, rsp) {\n      $('#tb-megamenu-admin-mm-container')\n        .html(rsp)\n        .megamenuAdmin()\n        .find(':input')\n        .removeAttr('name');\n    },\n    initPanel: function () {\n      $('#jform_params_mm_panel').hide();\n    },\n    initPreSubmit: function () {\n      var form = document.adminForm;\n      if (!form) {\n        return false;\n      }\n\n      var onsubmit = form.onsubmit;\n      form.onsubmit = function (e) {\n        $('.toolbox-saveConfig').trigger('click');\n        if ($.isfunction(onsubmit)) {\n          onsubmit();\n        }\n      };\n    },\n    initRadioGroup: function () {\n      var tb_megamenu_instance = $('.tb-megamenu-admin');\n      tb_megamenu_instance.find('.radio.btn-group label').addClass('btn');\n      tb_megamenu_instance\n        .find('.btn-group label')\n        .unbind('click')\n        .click(function () {\n          var label = $(this),\n            input = $('#' + label.attr('for'));\n          if (!input.attr('checked')) {\n            label\n              .closest('.btn-group')\n              .find('label')\n              .removeClass('active btn-success btn-danger btn-primary');\n            label.addClass(\n              'active ' +\n                (input.val() == ''\n                  ? 'btn-primary'\n                  : input.val() == 0\n                  ? 'btn-danger'\n                  : 'btn-success'),\n            );\n            input.attr('checked', true).trigger('change');\n          }\n        });\n\n      tb_megamenu_instance\n        .find('input[type=radio]')\n        .bind('update', function () {\n          if (this.checked) {\n            $(this)\n              .closest('.btn-group')\n              .find('label')\n              .removeClass('active btn-success btn-danger btn-primary')\n              .filter('[for=\"' + this.id + '\"]')\n              .addClass(\n                'active ' +\n                  ($(this).val() == ''\n                    ? 'btn-primary'\n                    : $(this).val() == 0\n                    ? 'btn-danger'\n                    : 'btn-success'),\n              );\n          }\n        });\n\n      tb_megamenu_instance\n        .find('.btn-group input[checked=checked]')\n        .each(function () {\n          if ($(this).val() == '') {\n            $('label[for=' + $(this).attr('id') + ']').addClass(\n              'active btn-primary',\n            );\n          } else if ($(this).val() == 0) {\n            $('label[for=' + $(this).attr('id') + ']').addClass(\n              'active btn-danger',\n            );\n          } else {\n            $('label[for=' + $(this).attr('id') + ']').addClass(\n              'active btn-success',\n            );\n          }\n        });\n    },\n  });\n\n  $(window).on('load', function () {\n    Drupal.TBMegaMenu.initPanel();\n    Drupal.TBMegaMenu.initPreSubmit();\n    Drupal.TBMegaMenu.initRadioGroup();\n    Drupal.TBMegaMenu.prepare();\n  });\n})(jQuery, Drupal, drupalSettings);\n"],"sourceRoot":""}