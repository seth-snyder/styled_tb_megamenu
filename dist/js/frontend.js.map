{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/frontend.js"],"names":["$","Drupal","drupalSettings","TBMegaMenu","focusableElements","menuResponsive","each","$thisMenu","breakpoint","parseInt","data","window","matchMedia","matches","addClass","removeClass","focusNextPrevElement","direction","$current","document","activeElement","length","$focusable","filter","$this","closest","is","index","nextElement","focus","behaviors","tbMegaMenuAction","attach","context","settings","once","navParent","linkArray","Array","curPos","isTouch","isMobile","hasClass","find","children","i","toplink","coordinate","subToggle","next","parent","j","column","k","sublink","keydownEvent","keyCode","preventDefault","nav_tab","nav_esc","nav_left","nav_up","nav_right","nav_down","nav_home","nav_end","nav_is_toplink","shiftKey","nav_prev_toplink","nav_next_toplink","nav_close_megamenu","nav_prev_column","nav_next_column","slice","ariaCheck","nav_parent_toplink","parents","attr","removeAttr","showMenu","$subMenu","mm_timeout","clearTimeout","setTimeout","hideMenu","click","toggleClass","mm_duration","bind","event","has","target","unbind","createTouchMenu","items","$item","tbitem","$uri","location","href","$openParents","$allOpen","item","on","$parentItem","jQuery"],"mappings":"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","file":"js/frontend.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/frontend.js\");\n","/**\n * @file\n * Defines Javascript behaviors for MegaMenu frontend.\n */\n\n(function ($, Drupal, drupalSettings) {\n  'use strict';\n\n  Drupal.TBMegaMenu = Drupal.TBMegaMenu || {};\n\n  Drupal.TBMegaMenu.focusableElements =\n    'a:not([disabled]), button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), details:not([disabled]), [tabindex]:not([disabled]):not([tabindex=\"-1\"])';\n\n  Drupal.TBMegaMenu.menuResponsive = function () {\n    $('.tbm').each(function () {\n      var $thisMenu = $(this);\n      var breakpoint = parseInt($thisMenu.data('breakpoint'));\n\n      if (window.matchMedia(`(max-width: ${breakpoint}px)`).matches) {\n        $thisMenu.addClass('tbm--mobile');\n      } else {\n        $thisMenu.removeClass('tbm--mobile');\n      }\n    });\n  };\n\n  Drupal.TBMegaMenu.focusNextPrevElement = function (direction) {\n    // Add all the elements we want to include in our selection\n    var $current = $(document.activeElement);\n\n    if ($current.length) {\n      var $focusable = $(Drupal.TBMegaMenu.focusableElements).filter(\n        function () {\n          var $this = $(this);\n          return (\n            $this.closest('.tbm-subnav').length === 0 && $this.is(':visible')\n          );\n        },\n      );\n\n      var index = $focusable.index($current);\n      if (index > -1) {\n        if (direction === 'next') {\n          var nextElement = $focusable[index + 1] || $focusable[0];\n        } else {\n          var nextElement = $focusable[index - 1] || $focusable[0];\n        }\n\n        nextElement.focus();\n      }\n    }\n  };\n\n  Drupal.behaviors.tbMegaMenuAction = {\n    attach: function (context, settings) {\n      $('.tbm', context)\n        .once('tbm')\n        .each(function () {\n          /* Keyboard Control Setup */\n          // Semi-Global Variables\n          var navParent = $(this),\n            linkArray = new Array(),\n            curPos = new Array(-1, -1, -1);\n          var isTouch = window.matchMedia('(pointer: coarse)').matches;\n\n          function isMobile() {\n            return navParent.hasClass('tbm--mobile');\n          }\n\n          // Each Top-Level Link\n          $(this)\n            .find('.level-1')\n            .children('.tbm-link-container')\n            .children('.tbm-link, .tbm-no-link')\n            .each(function (i, toplink) {\n              linkArray[i] = new Array();\n\n              // Add Link to Array\n              linkArray[i][-1] = toplink;\n\n              // Determine Coordinates\n              $(toplink).data({ coordinate: [i, -1] });\n\n              // Each top level submenu toggle.\n              var subToggle = $(toplink).next('.tbm-submenu-toggle')[0];\n              linkArray[i][-2] = subToggle;\n              $(subToggle).data({ coordinate: [i, -2] });\n\n              // Each Column\n              $(toplink)\n                .parent()\n                .next()\n                .children()\n                .children('.tbm-column')\n                .each(function (j, column) {\n                  // Only add to the linkArray if menu items exist.\n                  if (\n                    $(column).find(Drupal.TBMegaMenu.focusableElements).length >\n                    0\n                  ) {\n                    linkArray[i][j] = new Array();\n\n                    // Each Link\n                    $(column)\n                      .find(Drupal.TBMegaMenu.focusableElements)\n                      .each(function (k, sublink) {\n                        // Add Link to Array\n                        linkArray[i][j][k] = sublink;\n\n                        // Determine Coordinates\n                        $(sublink).data({ coordinate: [i, j, k] });\n                      }); // each link\n                  }\n                }); // each column\n            }); // each top-level link\n\n          // Update Position on Focus\n          $(this)\n            .find('.tbm-nav')\n            .find(Drupal.TBMegaMenu.focusableElements)\n            .focus(function () {\n              curPos = $(this).data('coordinate');\n            });\n\n          // Key Pressed\n          function keydownEvent(k) {\n            // Determine Key\n            switch (k.keyCode) {\n              // TAB\n              case 9:\n                // On mobile, we can follow the natural tab order.\n                if (!isMobile()) {\n                  k.preventDefault();\n                  nav_tab(k);\n                }\n                break;\n\n              // ESC\n              case 27:\n                nav_esc();\n                break;\n\n              // LEFT\n              case 37:\n                k.preventDefault();\n                nav_left();\n                break;\n\n              // UP\n              case 38:\n                k.preventDefault();\n                nav_up();\n                break;\n\n              // RIGHT\n              case 39:\n                k.preventDefault();\n                nav_right();\n                break;\n\n              // DOWN\n              case 40:\n                k.preventDefault();\n                nav_down();\n                break;\n\n              // HOME\n              case 36:\n                nav_home();\n                break;\n\n              // END\n              case 35:\n                nav_end();\n                break;\n\n              // Else\n              default:\n              // Do nothing\n            } // determine key\n          } // keydownEvent\n\n          /* Keypress Functions */\n          // Tab\n          function nav_tab(k) {\n            if (nav_is_toplink()) {\n              if (k.shiftKey) {\n                nav_prev_toplink();\n              } else {\n                nav_next_toplink();\n              }\n            } else {\n              if (k.shiftKey) {\n                nav_up();\n              } else {\n                nav_down();\n              }\n            }\n          }\n\n          // Escape\n          function nav_esc() {\n            nav_close_megamenu();\n          }\n\n          // Left\n          function nav_left() {\n            if (nav_is_toplink()) {\n              nav_prev_toplink();\n            } else {\n              nav_prev_column();\n            }\n          }\n\n          // Right\n          function nav_right() {\n            if (nav_is_toplink()) {\n              nav_next_toplink();\n            } else {\n              nav_next_column();\n            }\n          }\n\n          // Up\n          function nav_up() {\n            if (nav_is_toplink()) {\n              nav_prev_toplink();\n            } else {\n              if (linkArray[curPos[0]][curPos[1]][curPos[2] - 1]) {\n                // If the previous link in the array is hidden (ie, it's in a\n                // submenu that is not currently expanded), then skip to the next\n                // item in the array until we find one that's visible.\n                if (\n                  $(linkArray[curPos[0]][curPos[1]][curPos[2] - 1]).is(\n                    ':visible',\n                  )\n                ) {\n                  linkArray[curPos[0]][curPos[1]][curPos[2] - 1].focus();\n                } else {\n                  curPos = [curPos[0], curPos[1], curPos[2] - 1];\n                  nav_up();\n                }\n              } else {\n                nav_prev_column();\n              }\n            }\n          }\n\n          // Down\n          function nav_down() {\n            if (nav_is_toplink()) {\n              nav_next_column();\n            } else {\n              if (\n                linkArray[curPos[0]][curPos[1]][curPos[2] + 1] &&\n                $(linkArray[curPos[0]][curPos[1]][curPos[2] + 1]).is(':visible')\n              ) {\n                linkArray[curPos[0]][curPos[1]][curPos[2] + 1].focus();\n              } else if (\n                // A little bit of a workaround for the fact that .tbm-submenu-toggle is visible only on mobile.\n                linkArray[curPos[0]][curPos[1]][curPos[2] + 2] &&\n                $(linkArray[curPos[0]][curPos[1]][curPos[2] + 2]).is(':visible')\n              ) {\n                linkArray[curPos[0]][curPos[1]][curPos[2] + 2].focus();\n              } else {\n                nav_next_column();\n              }\n            }\n          }\n\n          // Home Button\n          function nav_home() {\n            if (nav_is_toplink()) {\n              linkArray[0][-1].focus();\n            } else {\n              linkArray[curPos[0]][0][0].focus();\n            }\n          }\n\n          // End Button\n          function nav_end() {\n            if (nav_is_toplink()) {\n              linkArray.slice(-1)[0][-1].focus();\n            } else {\n              linkArray[curPos[0]].slice(-1)[0].slice(-1)[0].focus();\n            }\n          }\n\n          /* Helper Functions */\n          // Determine Link Level\n          function nav_is_toplink() {\n            return curPos[1] < 0;\n          }\n\n          // Close Mega Menu\n          function nav_close_megamenu() {\n            navParent.find('.open').removeClass('open');\n            navParent.find('.tbm-clicked').removeClass('tbm-clicked');\n            ariaCheck();\n          }\n\n          // Next Toplink\n          function nav_next_toplink() {\n            if (linkArray[curPos[0] + 1]) {\n              linkArray[curPos[0] + 1][-1].focus();\n            } else {\n              nav_close_megamenu();\n\n              // Focus on the next element.\n              Drupal.TBMegaMenu.focusNextPrevElement('next');\n            }\n          }\n\n          // Previous Toplink\n          function nav_prev_toplink() {\n            if (linkArray[curPos[0] - 1]) {\n              linkArray[curPos[0] - 1][-1].focus();\n            } else {\n              // Focus on the previous element.\n              Drupal.TBMegaMenu.focusNextPrevElement('prev');\n            }\n          }\n\n          // Previous Column\n          function nav_prev_column() {\n            if (linkArray[curPos[0]][curPos[1] - 1][0]) {\n              linkArray[curPos[0]][curPos[1] - 1][0].focus();\n            } else {\n              nav_parent_toplink();\n            }\n          }\n\n          // Next Column\n          function nav_next_column() {\n            if (linkArray[curPos[0]][curPos[1] + 1]) {\n              linkArray[curPos[0]][curPos[1] + 1][0].focus();\n            } else {\n              nav_parent_toplink();\n            }\n          }\n\n          // Go to Parent Toplink\n          function nav_parent_toplink() {\n            linkArray[curPos[0]][-1].focus();\n          }\n\n          var ariaCheck = function () {\n            $('li.tbm-item', this).each(function () {\n              if ($(this).is('.tbm-group')) {\n                // Mega menu item has mega class (it's a true mega menu)\n                if (!$(this).parents().is('.open')) {\n                  // Mega menu item has mega class and its ancestor is closed, so apply appropriate ARIA attributes\n                  $(this).children().attr('aria-expanded', 'false');\n                } else if ($(this).parents().is('.open')) {\n                  // Mega menu item has mega class and its ancestor is open, so apply appropriate ARIA attributes\n                  $(this).children().attr('aria-expanded', 'true');\n                }\n              } else if (\n                $(this).is('.tbm-item--has-dropdown') ||\n                $(this).is('.tbm-item--has-flyout')\n              ) {\n                // Mega menu item has dropdown (it's a flyout menu)\n                if (!$(this).is('.open')) {\n                  // Mega menu item has dropdown class and is closed, so apply appropriate ARIA attributes\n                  $(this).children().attr('aria-expanded', 'false');\n                } else if ($(this).is('.open')) {\n                  // Mega menu item has dropdown class and is open, so apply appropriate ARIA attributes\n                  $(this).children().attr('aria-expanded', 'true');\n                }\n              } else {\n                // Mega menu item is neither a mega or dropdown class, so remove ARIA attributes (it doesn't have children)\n                $(this).children().removeAttr('aria-expanded');\n              }\n            });\n          };\n\n          var showMenu = function ($subMenu, mm_timeout) {\n            if ($subMenu.hasClass('level-1')) {\n              $subMenu.addClass('animating');\n              clearTimeout($subMenu.data('animatingTimeout'));\n              $subMenu.data(\n                'animatingTimeout',\n                setTimeout(function () {\n                  $subMenu.removeClass('animating');\n                }, mm_timeout),\n              );\n              clearTimeout($subMenu.data('hoverTimeout'));\n              $subMenu.data(\n                'hoverTimeout',\n                setTimeout(function () {\n                  $subMenu.addClass('open');\n                  ariaCheck();\n                }, 100),\n              );\n            } else {\n              clearTimeout($subMenu.data('hoverTimeout'));\n              $subMenu.data(\n                'hoverTimeout',\n                setTimeout(function () {\n                  $subMenu.addClass('open');\n                  ariaCheck();\n                }, 100),\n              );\n            }\n          };\n\n          var hideMenu = function ($subMenu, mm_timeout) {\n            $subMenu.children('.tbm-toggle').attr('aria-expanded', 'false');\n            if ($subMenu.hasClass('mega')) {\n              $subMenu.addClass('animating');\n              clearTimeout($subMenu.data('animatingTimeout'));\n              $subMenu.data(\n                'animatingTimeout',\n                setTimeout(function () {\n                  $subMenu.removeClass('animating');\n                }, mm_timeout),\n              );\n              clearTimeout($subMenu.data('hoverTimeout'));\n              $subMenu.data(\n                'hoverTimeout',\n                setTimeout(function () {\n                  $subMenu.removeClass('open');\n                  ariaCheck();\n                }, 100),\n              );\n            } else {\n              clearTimeout($subMenu.data('hoverTimeout'));\n              $subMenu.data(\n                'hoverTimeout',\n                setTimeout(function () {\n                  $subMenu.removeClass('open');\n                  ariaCheck();\n                }, 100),\n              );\n            }\n          };\n\n          // TODO -- add aria-expanded here.\n          $('.tbm-button', this).click(function () {\n            // If the menu is currently open, collapse all open dropdowns before\n            // hiding the menu.\n            if (navParent.hasClass('tbm--mobile-show')) {\n              nav_close_megamenu();\n            }\n\n            // Toggle the menu visibility.\n            $(this).parent().toggleClass('tbm--mobile-show');\n          });\n\n          if (!isTouch) {\n            var mm_duration = navParent.data('duration')\n              ? navParent.data('duration')\n              : 0;\n\n            var mm_timeout = mm_duration ? 100 + mm_duration : 500;\n\n            // Show dropdowns and flyouts on hover.\n            $('.tbm-nav > li, li.tbm-item', context).bind(\n              'mouseenter',\n              function (event) {\n                if (!isMobile()) {\n                  showMenu($(this), mm_timeout);\n                }\n              },\n            );\n\n            // Show dropdwons and flyouts on focus.\n            $('.tbm-toggle', context).bind('focus', function (event) {\n              if (!isMobile()) {\n                var $this = $(this);\n                var $subMenu = $this.closest('li');\n                showMenu($subMenu, mm_timeout);\n                // If the focus moves outside of the subMenu, close it.\n                $(document).bind('focusin', function (event) {\n                  if ($subMenu.has(event.target).length) {\n                    return;\n                  }\n                  $(document).unbind(event);\n                  hideMenu($subMenu, mm_timeout);\n                });\n              }\n            });\n\n            $('.tbm-nav > li, li.tbm-item', context).bind(\n              'mouseleave',\n              function (event) {\n                if (!isMobile()) {\n                  hideMenu($(this), mm_timeout);\n                }\n              },\n            );\n          }\n\n          // Define actions for touch devices.\n          var createTouchMenu = function (items) {\n            items\n              .children('.tbm-link-container')\n              .children('.tbm-link, .tbm-no-link')\n              .each(function () {\n                var $item = $(this);\n                var tbitem = $(this).closest('.tbm-item');\n\n                $item.click(function (event) {\n                  if (!isMobile() && isTouch) {\n                    // If the menu link has already been clicked once...\n                    if ($item.hasClass('tbm-clicked')) {\n                      var $uri = $item.attr('href');\n\n                      // If the menu link has a URI, go to the link.\n                      // <nolink> menu items will not have a URI.\n                      if ($uri) {\n                        window.location.href = $uri;\n                      } else {\n                        $item.removeClass('tbm-clicked');\n                        hideMenu(tbitem, mm_timeout);\n                      }\n                    } else {\n                      event.preventDefault();\n\n                      // Hide any already open menus which are not parents of the\n                      // currently clicked menu item.\n                      var $openParents = $item.parents('.open');\n                      var $allOpen = $('.tbm .open');\n\n                      // Loop through all open items and check to see if they are\n                      // parents of the clicked item.\n                      $allOpen.each(function (index, item) {\n                        if ($(item).is($openParents)) {\n                          // do nothing\n                        } else {\n                          $(item).removeClass('open');\n                        }\n                      });\n\n                      // Apply aria attributes.\n                      ariaCheck();\n\n                      // Remove any existing tmb-clicked classes.\n                      $('.tbm').find('.tbm-clicked').removeClass('tbm-clicked');\n\n                      // Open the submenu and apply the tbm-clicked class.\n                      $item.addClass('tbm-clicked');\n                      showMenu(tbitem, mm_timeout);\n                    }\n                  }\n                });\n              });\n\n            // Anytime there's a click outside the menu, close the menu.\n            $(document).on('click', function (event) {\n              if ($(event.target).closest('.tbm-nav').length === 0) {\n                if (navParent.find('.open').length > 0) {\n                  nav_close_megamenu();\n                }\n              }\n            });\n          };\n\n          // Add touch functionality.\n          createTouchMenu(\n            $('.tbm ul.tbm-nav li.tbm-item', context).has('.tbm-submenu'),\n          );\n\n          // Toggle submenus on mobile.\n          $('.tbm-submenu-toggle, .tbm-no-link').on('click', function () {\n            if (isMobile()) {\n              var $parentItem = $(this).closest('.tbm-item');\n\n              if ($parentItem.hasClass('open')) {\n                hideMenu($parentItem, mm_timeout);\n              } else {\n                showMenu($parentItem, mm_timeout);\n              }\n            }\n          });\n\n          // Add keyboard listeners.\n          navParent.on('keydown', keydownEvent);\n\n          $(window).on('load resize', function () {\n            Drupal.TBMegaMenu.menuResponsive();\n          });\n        });\n    },\n  };\n})(jQuery, Drupal, drupalSettings);\n"],"sourceRoot":""}